window.POS=window.Paymentsos=function(){var e=e||{},t=null,n="https://api.paymentsos.com",o="test";return e.setPublicKey=function(e){t=e},e.setEnvironment=function(e){o=e},e.debug=function(e){e=e},e.setApiUrl=function(e){n=e},e.tokenize=function(e,o){e.type&&(console.warn("'type' is now 'token_type'. 'type' will be deprecated on the next version. please update your request"),e.token_type=e.type,delete e.type),void 0==t?(console.log("You must set your public key to create a token: https://developers.paymentsos.com/docs/collecting-card-details.html"),"function"==typeof o&&o()):ajax(n+"/tokens",function(e,t){"function"==typeof o&&o(e,t)},e)},ajax=function(e,n,s,i){try{(i=this.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(s?"POST":"GET",e,1),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("x-client-user-agent",navigator.userAgent+" Tokenjs/0.0.6(POS)"),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("public_key",t),i.setRequestHeader("x-payments-os-env",o),i.setRequestHeader("api-version","1.1.0"),i.onreadystatechange=function(){i.readyState>3&&n&&n(i.responseText,i)},i.send(JSON.stringify(s))}catch(e){window.console&&console.log(e)}},e}();